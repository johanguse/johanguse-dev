/**
 * CSS Styles for code highlighting using sugar-high
 * https://github.com/huozhi/sugar-high
 */

/* Code title styles */
.remark-code-title {
  @apply rounded-t bg-gray-700 px-5 py-3 font-mono text-sm font-bold text-gray-200;
}

.remark-code-title + div > pre {
  @apply mt-0 rounded-t-none;
}

/* Code block styles */
pre {
  @apply overflow-x-auto rounded-lg p-4;
  background: #0d1117;
}

pre code {
  @apply text-sm leading-relaxed;
  font-family:
    ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
}

/**
 * Sugar-high theme - GitHub Dark Dimmed inspired
 * Token types: identifier, keyword, string, class, property, entity, jsxliterals, sign, comment
 */

/* Dark mode (default) */
:root {
  --sh-class: #f0883e; /* Orange - classes, types */
  --sh-identifier: #c9d1d9; /* Light gray - variables, function names */
  --sh-sign: #79c0ff; /* Light blue - operators, brackets */
  --sh-property: #7ee787; /* Green - properties */
  --sh-entity: #d2a8ff; /* Purple - entities, decorators */
  --sh-jsxliterals: #a5d6ff; /* Cyan - JSX text */
  --sh-string: #a5d6ff; /* Cyan - strings */
  --sh-keyword: #ff7b72; /* Coral red - keywords (const, let, function) */
  --sh-comment: #8b949e; /* Gray - comments */
}

/* Ensure dark mode uses same colors */
.dark {
  --sh-class: #f0883e;
  --sh-identifier: #c9d1d9;
  --sh-sign: #79c0ff;
  --sh-property: #7ee787;
  --sh-entity: #d2a8ff;
  --sh-jsxliterals: #a5d6ff;
  --sh-string: #a5d6ff;
  --sh-keyword: #ff7b72;
  --sh-comment: #8b949e;
}

/* Light mode - Adjusted for light backgrounds */
html:not(.dark) pre {
  background: #f6f8fa;
}

html:not(.dark) {
  --sh-class: #953800; /* Dark orange */
  --sh-identifier: #24292f; /* Dark gray */
  --sh-sign: #0550ae; /* Blue */
  --sh-property: #116329; /* Dark green */
  --sh-entity: #8250df; /* Purple */
  --sh-jsxliterals: #0a3069; /* Dark blue */
  --sh-string: #0a3069; /* Dark blue */
  --sh-keyword: #cf222e; /* Red */
  --sh-comment: #6e7781; /* Gray */
}

/* Line highlighting */
.code-highlight {
  @apply float-left min-w-full;
}

.code-line {
  @apply -mx-4 block border-l-4 border-transparent pl-4 pr-4;
}

.code-line.inserted {
  @apply bg-green-500 bg-opacity-20;
}

.code-line.deleted {
  @apply bg-red-500 bg-opacity-20;
}

.highlight-line {
  @apply -mx-4 border-l-4 bg-gray-700 bg-opacity-50;
}

.line-number::before {
  @apply mr-4 -ml-2 inline-block w-4 text-right text-gray-400;
  content: attr(line);
}

/* Inline code styling */
:not(pre) > code {
  @apply rounded px-1.5 py-0.5 text-sm font-medium;
  background: rgba(175, 184, 193, 0.2);
  color: #e06c75;
}

.dark :not(pre) > code {
  background: rgba(110, 118, 129, 0.4);
  color: #f97583;
}
